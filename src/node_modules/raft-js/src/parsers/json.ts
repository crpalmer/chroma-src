/**
 * @module RaftParser
 */ /** */

import RaftEngine from "../engines/base";
import RaftParser from "./base";
import * as fs from "fs";
import FileTypeError from "../errors/file-type";

abstract class JSONParser extends RaftParser {

    constructor (engine: RaftEngine) {
        super(engine);
    }

    public readFile(inpath: string): string | Buffer {
        if (!fs.existsSync(inpath)) {
            throw new FileTypeError("Input file path does not exist.");
        }
        return fs.readFileSync(inpath, {
            encoding: "utf-8"
        });
    }

    public writeFile(outpath: string, contents: string | Buffer): void {
        fs.writeFileSync(outpath, contents, {
            encoding: "utf-8"
        });
    }

    toString(): string {
        return "JSONParser";
    }

}
export default JSONParser;
