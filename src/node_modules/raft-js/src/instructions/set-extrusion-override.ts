/**
 * @module RaftInstruction
 */ /** */

import {validateInt} from "../common/validation";
import InvalidArgumentError from "../errors/invalid-argument";
import SetOverrideFactorInstruction, {SetOverrideFactorInstructionParams} from "./set-override-factor";

export interface SetExtrusionOverrideInstructionParams extends SetOverrideFactorInstructionParams {
    toolhead?: number
}

export default class SetExtrusionOverrideInstruction extends SetOverrideFactorInstruction {

    readonly toolhead: number;

    constructor (params: SetExtrusionOverrideInstructionParams) {
        if (params.toolhead !== undefined && (!validateInt(params.toolhead) || params.toolhead < 0)) {
            throw new InvalidArgumentError("Invalid toolhead number '" + params.toolhead + "' supplied as argument");
        }
        super(params);
        this.toolhead = (params.toolhead === undefined ? null : params.toolhead);
    }

    toString(): string {
        return "SetExtrusionOverrideInstruction";
    }

}
