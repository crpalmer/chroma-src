/**
 * @module RaftInstruction
 */ /** */

import InvalidArgumentError from "../errors/invalid-argument";
import SetTemperatureInstruction, {SetTemperatureInstructionParams} from "./set-temperature";
import {validateInt} from "../common/validation";

interface SetBedTemperatureInstructionParams extends SetTemperatureInstructionParams {
    bedNumber?: number,
    heaterNumber?: number
}

export default class SetBedTemperatureInstruction extends SetTemperatureInstruction {

    readonly bedNumber: number;
    readonly heaterNumber: number;

    constructor (params: SetBedTemperatureInstructionParams) {
        if (params.bedNumber !== undefined && (!validateInt(params.bedNumber) || params.bedNumber < 0)) {
            throw new InvalidArgumentError("Invalid bedNumber '" + params.bedNumber + "' supplied as argument");
        }
        if (params.heaterNumber !== undefined && (!validateInt(params.heaterNumber) || params.heaterNumber < 0)) {
            throw new InvalidArgumentError("Invalid heaterNumber '" + params.heaterNumber + "' supplied as argument");
        }
        super(params);
        this.bedNumber = (params.bedNumber === undefined ? null : params.bedNumber);
        this.heaterNumber = (params.heaterNumber === undefined ? null : params.heaterNumber);
    }

    toString(): string {
        return "SetBedTemperatureInstruction";
    }

}
