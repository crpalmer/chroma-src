/**
 * @module RaftInstruction
 */ /** */

import OEMInstruction, {OEMInstructionParams} from "./oem";
import {validateNumber} from "../common/validation";
import InvalidArgumentError from "../errors/invalid-argument";

export interface OVersionInstructionParams extends OEMInstructionParams {
    major: number
    minor: number
}

export default class OVersionInstruction extends OEMInstruction {

    readonly major: number;
    readonly minor: number;

    constructor (params: OVersionInstructionParams) {
        if (!validateNumber(params.major) || params.major < 0) {
            throw new InvalidArgumentError("Invalid major version '" + params.major + "' supplied as argument");
        }
        if (!validateNumber(params.minor) || params.minor < 0) {
            throw new InvalidArgumentError("Invalid minor version '" + params.minor + "' supplied as argument");
        }
        super(params);
        this.major = params.major;
        this.minor = params.minor;
    }

    toString(): string {
        return "OVersionInstruction";
    }

}
