/**
 * @module RaftInstruction
 */ /** */

import RaftInstruction, {RaftInstructionParams} from "./base";
import {CoordinateModes} from "../enums";
import InvalidArgumentError from "../errors/invalid-argument";

export interface SetCoordinateModeInstructionParams extends RaftInstructionParams {
    xyz?: CoordinateModes,
    extrusion?: CoordinateModes
}

export default class SetCoordinateModeInstruction extends RaftInstruction {

    readonly xyz: CoordinateModes;
    readonly extrusion: CoordinateModes;

    constructor (params: SetCoordinateModeInstructionParams) {
        if (params.xyz !== undefined && !(params.xyz in CoordinateModes)) {
            throw new InvalidArgumentError("Invalid xyz value '" + params.xyz + "' not in CoordinateModes");
        }
        if (params.extrusion !== undefined && !(params.extrusion in CoordinateModes)) {
            throw new InvalidArgumentError("Invalid extrusion value '" + params.extrusion + "' not in CoordinateModes");
        }
        super(params);
        this.xyz = params.xyz || CoordinateModes.None;
        this.extrusion = params.extrusion || CoordinateModes.None;
    }

    toString(): string {
        return "SetCoordinateModeInstruction";
    }

}
